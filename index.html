<script type="module">
  import confetti from 'https://cdn.skypack.dev/canvas-confetti';

  const yesButton = document.getElementById('yesButton');
  const noButton = document.getElementById('noButton');
  const imageDisplay = document.getElementById('imageDisplay');
  const valentineQuestion = document.getElementById('valentineQuestion');
  const responseButtons = document.getElementById('responseButtons');

  let noClickCount = 0;
  let buttonHeight = 48;
  let buttonWidth = 80;
  let fontSize = 20;

  const imagePaths = [
    "https://media.giphy.com/media/3ohs7KViF9DMwHZXt6/giphy.gif", // Cute Duck (Start)
    "https://media.giphy.com/media/26AHONQ79FdWZhAI0/giphy.gif", // Sad crying cat
    "https://media.giphy.com/media/l2JJKs3I69qfaQleE/giphy.gif", // Puppy eyes
    "https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif", // Sad bear waving
    "https://media.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.gif", // Heartbroken Pikachu
    "https://media.giphy.com/media/xT5LMV0HsaWRSPU3aU/giphy.gif", // Crying panda
    "https://media.giphy.com/media/5xaOcLT2GQO8q3j9n9m/giphy.gif", // Begging puppy
    "https://media.giphy.com/media/1BXa2alBjrCXC/giphy.gif", // Crying yellow blob
    "https://media.giphy.com/media/26FL6yBvdBv9vUbp6/giphy.gif", // Crying bunny
  ];

  const noMessages = [
    "No", "Are you sure?", "Last chance", "Tricia please", "Don't do this to me :(",
    "You're breaking my heart", "OMY DAYS JUST SAY YES...", "OK LAST TIME FR!!!",
    "Fine, no more Valentines", "Okay one last chance frfr this time",
    "Click me if you're lame", "TRICIA JUST CLICK YES!!!!!"
  ];

  noButton.addEventListener('click', function () {
    if (noClickCount < imagePaths.length - 1) { // Ensure we stay within array bounds
      noClickCount++;
      imageDisplay.src = imagePaths[noClickCount]; // Update image
      buttonHeight += 35;
      buttonWidth += 35;
      fontSize += 25;
      yesButton.style.height = `${buttonHeight}px`;
      yesButton.style.width = `${buttonWidth}px`;
      yesButton.style.fontSize = `${fontSize}px`;

      if (noClickCount < noMessages.length) {
        noButton.textContent = noMessages[noClickCount]; // Update button text
      }
    } else {
      noButton.textContent = "You're out of options..."; // Final message
    }
  });

  yesButton.addEventListener('click', () => {
    imageDisplay.src = "https://media.giphy.com/media/YTbZzCkRQbJLy/giphy.gif"; // Happy celebration GIF
    valentineQuestion.textContent = "Yayyy!! :3";
    responseButtons.style.display = 'none';
    confetti();
  });
</script>
